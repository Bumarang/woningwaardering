from test_utils import assert_output_model

from woningwaardering.stelsels.zelfstandige_woonruimten.oppervlakte_van_overige_ruimten import (
    OppervlakteVanOverigeRuimten,
)
from woningwaardering.vera.bvg.generated import (
    WoningwaarderingResultatenWoningwaarderingGroep,
)
from woningwaardering.vera.referentiedata import Woningwaarderingstelselgroep


def test_OppervlakteVanOverigeRuimten(eenheid_inputmodel, woningwaardering_resultaat):
    ovv = OppervlakteVanOverigeRuimten(peildatum="01-01-2024")
    resultaat = ovv.bereken(eenheid_inputmodel, woningwaardering_resultaat)
    assert isinstance(resultaat, WoningwaarderingResultatenWoningwaarderingGroep)


def test_OppervlakteVanOverigeRuimten_output(eenheid_input_en_output):
    eenheid_input, eenheid_output, peildatum = eenheid_input_en_output
    ovv = OppervlakteVanOverigeRuimten(peildatum=peildatum)
    resultaat = ovv.bereken(eenheid_input)

    assert_output_model(
        resultaat,
        eenheid_output,
        Woningwaarderingstelselgroep.oppervlakte_van_overige_ruimten,
    )
